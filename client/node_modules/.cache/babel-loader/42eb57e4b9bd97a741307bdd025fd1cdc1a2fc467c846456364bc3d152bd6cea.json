{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{removeToken,clearAllData}from'../../utils/localStorage';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{isAuthenticated}=_ref;const navigate=useNavigate();const[isOffline,setIsOffline]=useState(!navigator.onLine);// Check online status\nuseEffect(()=>{const handleOnline=()=>setIsOffline(false);const handleOffline=()=>setIsOffline(true);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);return()=>{window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);};},[]);const logout=()=>{// Clear localStorage and state\nremoveToken();clearAllData();// Reload page to reset app state\nwindow.location.reload();};const authLinks=/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"History\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{onClick:logout,href:\"#!\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"hide-sm\",children:\"Logout\"})]})}),isOffline&&/*#__PURE__*/_jsxs(\"li\",{className:\"offline-indicator\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wifi-slash\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hide-sm\",children:\"Offline\"})]})]});const guestLinks=/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),isOffline&&/*#__PURE__*/_jsxs(\"li\",{className:\"offline-indicator\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wifi-slash\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hide-sm\",children:\"Offline\"})]})]});return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-money-bill-wave\"}),\" PAY\"]})}),isAuthenticated?authLinks:guestLinks]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","removeToken","clearAllData","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","isAuthenticated","navigate","isOffline","setIsOffline","navigator","onLine","handleOnline","handleOffline","window","addEventListener","removeEventListener","logout","location","reload","authLinks","children","to","onClick","href","className","guestLinks"],"sources":["C:/Users/user/Documents/pay/client/src/components/layout/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { removeToken, clearAllData } from '../../utils/localStorage';\r\nimport './Navbar.css';\r\n\r\nconst Navbar = ({ isAuthenticated }) => {\r\n  const navigate = useNavigate();\r\n  const [isOffline, setIsOffline] = useState(!navigator.onLine);\r\n\r\n  // Check online status\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOffline(false);\r\n    const handleOffline = () => setIsOffline(true);\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    // Clear localStorage and state\r\n    removeToken();\r\n    clearAllData();\r\n    \r\n    // Reload page to reset app state\r\n    window.location.reload();\r\n  };\r\n\r\n  const authLinks = (\r\n    <ul>\r\n      <li>\r\n        <Link to=\"/\">Dashboard</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/history\">History</Link>\r\n      </li>\r\n      <li>\r\n        <a onClick={logout} href=\"#!\">\r\n          <i className=\"fas fa-sign-out-alt\"></i>{' '}\r\n          <span className=\"hide-sm\">Logout</span>\r\n        </a>\r\n      </li>\r\n      {isOffline && (\r\n        <li className=\"offline-indicator\">\r\n          <i className=\"fas fa-wifi-slash\"></i>\r\n          <span className=\"hide-sm\">Offline</span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  );\r\n\r\n  const guestLinks = (\r\n    <ul>\r\n      <li>\r\n        <Link to=\"/register\">Register</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/login\">Login</Link>\r\n      </li>\r\n      {isOffline && (\r\n        <li className=\"offline-indicator\">\r\n          <i className=\"fas fa-wifi-slash\"></i>\r\n          <span className=\"hide-sm\">Offline</span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <h1>\r\n        <Link to=\"/\">\r\n          <i className=\"fas fa-money-bill-wave\"></i> PAY\r\n        </Link>\r\n      </h1>\r\n      {isAuthenticated ? authLinks : guestLinks}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}