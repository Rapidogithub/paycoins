{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{QRCodeSVG}from'qrcode.react';import{Link,useNavigate}from'react-router-dom';import SendMoneyForm from'../components/wallet/SendMoneyForm';import QRScanner from'../components/wallet/QRScanner';import LimitSettingsModal from'../components/wallet/LimitSettingsModal';import{getStoredWallet,storeWallet,getStoredTransactions,storeTransactions}from'../utils/localStorage';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const navigate=useNavigate();const[wallet,setWallet]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[qrCode,setQrCode]=useState(null);const[showQR,setShowQR]=useState(false);const[showSendForm,setShowSendForm]=useState(false);const[showScanner,setShowScanner]=useState(false);const[showLimitSettings,setShowLimitSettings]=useState(false);const[recipientAddress,setRecipientAddress]=useState('');const[isOffline,setIsOffline]=useState(!navigator.onLine);const[stats,setStats]=useState({totalSent:0,totalReceived:0,transactionCount:0});const[recentTransactions,setRecentTransactions]=useState([]);const[showQuickActions,setShowQuickActions]=useState(false);// Check online status\nuseEffect(()=>{const handleOnline=()=>setIsOffline(false);const handleOffline=()=>setIsOffline(true);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);return()=>{window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);};},[]);// Calculate wallet statistics\nuseEffect(()=>{if(wallet){const transactions=getStoredTransactions();let sent=0;let received=0;let count=0;transactions.forEach(transaction=>{if(transaction.senderWalletAddress===wallet.walletAddress){sent+=parseFloat(transaction.amount);count++;}if(transaction.receiverWalletAddress===wallet.walletAddress){received+=parseFloat(transaction.amount);count++;}});setStats({totalSent:sent,totalReceived:received,transactionCount:count});}},[wallet]);useEffect(()=>{const getWallet=async()=>{try{// Try to get wallet from API if online\nif(navigator.onLine){const res=await axios.get('/api/wallets');const walletData=res.data;// Keep local settings like limits\nconst storedWallet=getStoredWallet();const mergedWallet={...walletData,dailyLimit:(storedWallet===null||storedWallet===void 0?void 0:storedWallet.dailyLimit)||0,monthlyLimit:(storedWallet===null||storedWallet===void 0?void 0:storedWallet.monthlyLimit)||0,enableLimits:(storedWallet===null||storedWallet===void 0?void 0:storedWallet.enableLimits)||false};setWallet(mergedWallet);storeWallet(mergedWallet);// Save to localStorage\n}else{// Use localStorage data when offline\nconst storedWallet=getStoredWallet();if(storedWallet){setWallet(storedWallet);}else{setError('No wallet data available offline');}}setLoading(false);}catch(err){console.error('Error loading wallet:',err);// Try localStorage as fallback\nconst storedWallet=getStoredWallet();if(storedWallet){setWallet(storedWallet);}else{setError('Failed to load wallet data');}setLoading(false);}};getWallet();},[]);// Load recent transactions\nuseEffect(()=>{const getRecentTransactions=async()=>{if(wallet){if(navigator.onLine){try{const res=await axios.get('/api/transactions');const transactions=res.data;setRecentTransactions(transactions.slice(0,5));// Get only 5 most recent\nstoreTransactions(transactions);// Store all for offline use\n}catch(err){console.error('Error loading transactions:',err);// Fallback to stored transactions\nconst storedTransactions=getStoredTransactions();setRecentTransactions(storedTransactions.slice(0,5));}}else{// Use localStorage when offline\nconst storedTransactions=getStoredTransactions();setRecentTransactions(storedTransactions.slice(0,5));}}};getRecentTransactions();},[wallet]);const generateQRCode=async()=>{try{setError('');setShowQR(true);if(navigator.onLine){try{const res=await axios.get('/api/wallets/generate-qr');if(res.data&&res.data.qrCode){setQrCode(res.data.qrCode);}else{throw new Error('Invalid QR code data received');}}catch(err){console.error('Online QR Code generation error:',err);// Fall back to offline mode if server fails\nconst walletData=JSON.stringify({walletAddress:wallet.walletAddress,payId:wallet.payId,type:'PAY_WALLET',timestamp:new Date().toISOString()});setQrCode(walletData);}}else{// For offline mode, we'll generate a QR code with wallet data\nconst walletData=JSON.stringify({walletAddress:wallet.walletAddress,payId:wallet.payId,type:'PAY_WALLET',timestamp:new Date().toISOString()});setQrCode(walletData);}}catch(err){console.error('QR Code generation error:',err);setError('Failed to generate QR code. Please try again.');setQrCode(null);}};const closeQR=()=>{setShowQR(false);};const openSendForm=()=>{setShowSendForm(true);setShowScanner(false);setShowQR(false);};const closeSendForm=()=>{setShowSendForm(false);setRecipientAddress('');};const openScanner=()=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){setShowScanner(true);setShowSendForm(false);setShowQR(false);}else{setError('Camera access not available on your device');}};const closeScanner=()=>{setShowScanner(false);};const openLimitSettings=()=>{setShowLimitSettings(true);};const closeLimitSettings=updatedWallet=>{if(updatedWallet){setWallet(updatedWallet);}setShowLimitSettings(false);};const handleScanSuccess=data=>{setRecipientAddress(data);setShowScanner(false);setShowSendForm(true);};const handleTransactionSuccess=async updatedWallet=>{if(updatedWallet){// If we got an updated wallet directly (offline mode)\nsetWallet(updatedWallet);storeWallet(updatedWallet);}else if(navigator.onLine){// If online, fetch the latest wallet\ntry{const res=await axios.get('/api/wallets');// Merge with local settings\nconst mergedWallet={...res.data,dailyLimit:wallet.dailyLimit,monthlyLimit:wallet.monthlyLimit,enableLimits:wallet.enableLimits};setWallet(mergedWallet);storeWallet(mergedWallet);}catch(err){setError('Failed to refresh wallet data');}}setShowSendForm(false);setRecipientAddress('');};// Format transaction description\nconst getTransactionDescription=(tx,walletAddress)=>{if(tx.senderWalletAddress===walletAddress){return`Sent to ${tx.receiverPayId?`PAY ID: ${tx.receiverPayId}`:'wallet'}`;}else{return`Received from ${tx.senderPayId?`PAY ID: ${tx.senderPayId}`:'wallet'}`;}};const toggleQuickActions=()=>{setShowQuickActions(!showQuickActions);};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading wallet data...\"})]});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-4\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:`quick-actions ${showQuickActions?'active':''}`,children:[/*#__PURE__*/_jsx(\"button\",{className:\"quick-actions-toggle\",onClick:toggleQuickActions,\"aria-label\":\"Quick Actions\",children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${showQuickActions?'fa-times':'fa-bolt'}`})}),showQuickActions&&/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions-menu\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-item\",onClick:()=>{setShowQuickActions(false);navigate('/send');},\"aria-label\":\"Send Money\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Send\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-item\",onClick:()=>{setShowQuickActions(false);navigate('/receive');},\"aria-label\":\"Receive Money\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-qrcode\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Receive\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-item\",onClick:()=>{setShowQuickActions(false);if(!isOffline){openScanner();}else{setError('Scanning is not available in offline mode');}},disabled:isOffline,\"aria-label\":\"Scan QR\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Scan\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-item\",onClick:()=>{setShowQuickActions(false);navigate('/history');},\"aria-label\":\"Transaction History\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-history\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"History\"})]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" \",error]}),isOffline&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wifi-slash\"}),\" You are currently offline. Some features may be limited.\"]}),wallet&&/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your PAY Account\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light btn-sm\",onClick:openLimitSettings,title:\"Set spending limits\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sliders-h\"})})]}),wallet.payId&&/*#__PURE__*/_jsxs(\"div\",{className:\"pay-id-container\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"pay-id-heading\",children:[\"Your PAY ID: \",/*#__PURE__*/_jsx(\"span\",{className:\"pay-id\",children:wallet.payId})]}),/*#__PURE__*/_jsx(\"p\",{className:\"pay-id-info\",children:\"Share this 4-digit ID to easily receive money\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Account ID:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wallet-address\",children:wallet.walletAddress})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-balance\",children:[\"Balance: \",wallet.balance,\" PAY\"]}),wallet.enableLimits&&/*#__PURE__*/_jsxs(\"div\",{className:\"limits-info\",children:[wallet.dailyLimit>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"limit-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-day\"}),\" Daily Limit: \",wallet.dailyLimit,\" PAY\"]}),wallet.monthlyLimit>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"limit-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt\"}),\" Monthly Limit: \",wallet.monthlyLimit,\" PAY\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-controls\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary action-btn\",onClick:()=>navigate('/send'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane\"}),\" Send Payment\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary action-btn\",onClick:()=>navigate('/receive'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-qrcode\"}),\" Receive Money\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark action-btn\",onClick:()=>navigate('/scan'),disabled:isOffline,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"}),\" Scan QR Code\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-up\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Sent\"}),/*#__PURE__*/_jsxs(\"p\",{children:[stats.totalSent.toFixed(2),\" PAY\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-down\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Received\"}),/*#__PURE__*/_jsxs(\"p\",{children:[stats.totalReceived.toFixed(2),\" PAY\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exchange-alt\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Transactions\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.transactionCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-transactions-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Transactions\"}),/*#__PURE__*/_jsxs(Link,{to:\"/history\",className:\"view-all-link\",children:[\"View All \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})]})]}),recentTransactions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"transaction-list\",children:recentTransactions.map(tx=>/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"transaction-icon-container\",children:/*#__PURE__*/_jsx(\"div\",{className:`transaction-icon ${tx.senderWalletAddress===wallet.walletAddress?'sent':'received'}`,children:/*#__PURE__*/_jsx(\"i\",{className:`fas fa-${tx.senderWalletAddress===wallet.walletAddress?'arrow-up':'arrow-down'}`})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"transaction-description\",children:getTransactionDescription(tx,wallet.walletAddress)}),/*#__PURE__*/_jsx(\"div\",{className:\"transaction-date\",children:moment(tx.date).format('MMM D, YYYY • h:mm A')})]}),/*#__PURE__*/_jsxs(\"div\",{className:`transaction-amount ${tx.senderWalletAddress===wallet.walletAddress?'sent':'received'}`,children:[tx.senderWalletAddress===wallet.walletAddress?'-':'+',tx.amount.toFixed(2),\" PAY\"]})]},tx.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exchange-alt\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"No transactions yet\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",onClick:()=>navigate('/send'),children:\"Send your first payment\"})]})]}),showQR&&/*#__PURE__*/_jsxs(\"div\",{className:\"qr-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your PAY Account QR Code\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Scan this code to receive money\"}),qrCode?typeof qrCode==='string'&&qrCode.startsWith('data:image/')?/*#__PURE__*/// If it's a data URL from the server\n_jsx(\"img\",{src:qrCode,alt:\"PAY QR Code\",style:{maxWidth:'100%',width:'250px'}}):/*#__PURE__*/// Otherwise use the QRCodeSVG component for client-side generation\n_jsx(QRCodeSVG,{value:typeof qrCode==='string'?qrCode:JSON.stringify(qrCode),size:250,level:\"H\",includeMargin:true,bgColor:\"#ffffff\",fgColor:\"#000000\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" Failed to generate QR code\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mt-3\",onClick:()=>{setShowQR(false);setQrCode(null);},children:\"Close\"})]}),showSendForm&&/*#__PURE__*/_jsx(SendMoneyForm,{onClose:closeSendForm,onSuccess:handleTransactionSuccess,initialRecipientAddress:recipientAddress,wallet:wallet,isOffline:isOffline}),showScanner&&/*#__PURE__*/_jsx(QRScanner,{onClose:closeScanner,onScanSuccess:handleScanSuccess}),showLimitSettings&&/*#__PURE__*/_jsx(LimitSettingsModal,{onClose:closeLimitSettings,wallet:wallet})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","QRCodeSVG","Link","useNavigate","SendMoneyForm","QRScanner","LimitSettingsModal","getStoredWallet","storeWallet","getStoredTransactions","storeTransactions","moment","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","wallet","setWallet","loading","setLoading","error","setError","qrCode","setQrCode","showQR","setShowQR","showSendForm","setShowSendForm","showScanner","setShowScanner","showLimitSettings","setShowLimitSettings","recipientAddress","setRecipientAddress","isOffline","setIsOffline","navigator","onLine","stats","setStats","totalSent","totalReceived","transactionCount","recentTransactions","setRecentTransactions","showQuickActions","setShowQuickActions","handleOnline","handleOffline","window","addEventListener","removeEventListener","transactions","sent","received","count","forEach","transaction","senderWalletAddress","walletAddress","parseFloat","amount","receiverWalletAddress","getWallet","res","get","walletData","data","storedWallet","mergedWallet","dailyLimit","monthlyLimit","enableLimits","err","console","getRecentTransactions","slice","storedTransactions","generateQRCode","Error","JSON","stringify","payId","type","timestamp","Date","toISOString","closeQR","openSendForm","closeSendForm","openScanner","mediaDevices","getUserMedia","closeScanner","openLimitSettings","closeLimitSettings","updatedWallet","handleScanSuccess","handleTransactionSuccess","getTransactionDescription","tx","receiverPayId","senderPayId","toggleQuickActions","className","children","onClick","disabled","title","balance","toFixed","to","length","map","date","format","id","startsWith","src","alt","style","maxWidth","width","value","size","level","includeMargin","bgColor","fgColor","onClose","onSuccess","initialRecipientAddress","onScanSuccess"],"sources":["C:/Users/user/Documents/pay/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { QRCodeSVG } from 'qrcode.react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport SendMoneyForm from '../components/wallet/SendMoneyForm';\r\nimport QRScanner from '../components/wallet/QRScanner';\r\nimport LimitSettingsModal from '../components/wallet/LimitSettingsModal';\r\nimport { getStoredWallet, storeWallet, getStoredTransactions, storeTransactions } from '../utils/localStorage';\r\nimport moment from 'moment';\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const [wallet, setWallet] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [qrCode, setQrCode] = useState(null);\r\n  const [showQR, setShowQR] = useState(false);\r\n  const [showSendForm, setShowSendForm] = useState(false);\r\n  const [showScanner, setShowScanner] = useState(false);\r\n  const [showLimitSettings, setShowLimitSettings] = useState(false);\r\n  const [recipientAddress, setRecipientAddress] = useState('');\r\n  const [isOffline, setIsOffline] = useState(!navigator.onLine);\r\n  const [stats, setStats] = useState({\r\n    totalSent: 0,\r\n    totalReceived: 0,\r\n    transactionCount: 0\r\n  });\r\n  const [recentTransactions, setRecentTransactions] = useState([]);\r\n  const [showQuickActions, setShowQuickActions] = useState(false);\r\n\r\n  // Check online status\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOffline(false);\r\n    const handleOffline = () => setIsOffline(true);\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  // Calculate wallet statistics\r\n  useEffect(() => {\r\n    if (wallet) {\r\n      const transactions = getStoredTransactions();\r\n      let sent = 0;\r\n      let received = 0;\r\n      let count = 0;\r\n      \r\n      transactions.forEach(transaction => {\r\n        if (transaction.senderWalletAddress === wallet.walletAddress) {\r\n          sent += parseFloat(transaction.amount);\r\n          count++;\r\n        }\r\n        if (transaction.receiverWalletAddress === wallet.walletAddress) {\r\n          received += parseFloat(transaction.amount);\r\n          count++;\r\n        }\r\n      });\r\n      \r\n      setStats({\r\n        totalSent: sent,\r\n        totalReceived: received,\r\n        transactionCount: count\r\n      });\r\n    }\r\n  }, [wallet]);\r\n\r\n  useEffect(() => {\r\n    const getWallet = async () => {\r\n      try {\r\n        // Try to get wallet from API if online\r\n        if (navigator.onLine) {\r\n          const res = await axios.get('/api/wallets');\r\n          const walletData = res.data;\r\n          \r\n          // Keep local settings like limits\r\n          const storedWallet = getStoredWallet();\r\n          const mergedWallet = {\r\n            ...walletData,\r\n            dailyLimit: storedWallet?.dailyLimit || 0,\r\n            monthlyLimit: storedWallet?.monthlyLimit || 0,\r\n            enableLimits: storedWallet?.enableLimits || false\r\n          };\r\n          \r\n          setWallet(mergedWallet);\r\n          storeWallet(mergedWallet); // Save to localStorage\r\n        } else {\r\n          // Use localStorage data when offline\r\n          const storedWallet = getStoredWallet();\r\n          if (storedWallet) {\r\n            setWallet(storedWallet);\r\n          } else {\r\n            setError('No wallet data available offline');\r\n          }\r\n        }\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error loading wallet:', err);\r\n        \r\n        // Try localStorage as fallback\r\n        const storedWallet = getStoredWallet();\r\n        if (storedWallet) {\r\n          setWallet(storedWallet);\r\n        } else {\r\n          setError('Failed to load wallet data');\r\n        }\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getWallet();\r\n  }, []);\r\n\r\n  // Load recent transactions\r\n  useEffect(() => {\r\n    const getRecentTransactions = async () => {\r\n      if (wallet) {\r\n        if (navigator.onLine) {\r\n          try {\r\n            const res = await axios.get('/api/transactions');\r\n            const transactions = res.data;\r\n            setRecentTransactions(transactions.slice(0, 5)); // Get only 5 most recent\r\n            storeTransactions(transactions); // Store all for offline use\r\n          } catch (err) {\r\n            console.error('Error loading transactions:', err);\r\n            // Fallback to stored transactions\r\n            const storedTransactions = getStoredTransactions();\r\n            setRecentTransactions(storedTransactions.slice(0, 5));\r\n          }\r\n        } else {\r\n          // Use localStorage when offline\r\n          const storedTransactions = getStoredTransactions();\r\n          setRecentTransactions(storedTransactions.slice(0, 5));\r\n        }\r\n      }\r\n    };\r\n\r\n    getRecentTransactions();\r\n  }, [wallet]);\r\n\r\n  const generateQRCode = async () => {\r\n    try {\r\n      setError('');\r\n      setShowQR(true);\r\n      \r\n      if (navigator.onLine) {\r\n        try {\r\n          const res = await axios.get('/api/wallets/generate-qr');\r\n          if (res.data && res.data.qrCode) {\r\n            setQrCode(res.data.qrCode);\r\n          } else {\r\n            throw new Error('Invalid QR code data received');\r\n          }\r\n        } catch (err) {\r\n          console.error('Online QR Code generation error:', err);\r\n          // Fall back to offline mode if server fails\r\n          const walletData = JSON.stringify({\r\n            walletAddress: wallet.walletAddress,\r\n            payId: wallet.payId,\r\n            type: 'PAY_WALLET',\r\n            timestamp: new Date().toISOString()\r\n          });\r\n          setQrCode(walletData);\r\n        }\r\n      } else {\r\n        // For offline mode, we'll generate a QR code with wallet data\r\n        const walletData = JSON.stringify({\r\n          walletAddress: wallet.walletAddress,\r\n          payId: wallet.payId,\r\n          type: 'PAY_WALLET',\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        setQrCode(walletData);\r\n      }\r\n    } catch (err) {\r\n      console.error('QR Code generation error:', err);\r\n      setError('Failed to generate QR code. Please try again.');\r\n      setQrCode(null);\r\n    }\r\n  };\r\n\r\n  const closeQR = () => {\r\n    setShowQR(false);\r\n  };\r\n\r\n  const openSendForm = () => {\r\n    setShowSendForm(true);\r\n    setShowScanner(false);\r\n    setShowQR(false);\r\n  };\r\n\r\n  const closeSendForm = () => {\r\n    setShowSendForm(false);\r\n    setRecipientAddress('');\r\n  };\r\n\r\n  const openScanner = () => {\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      setShowScanner(true);\r\n      setShowSendForm(false);\r\n      setShowQR(false);\r\n    } else {\r\n      setError('Camera access not available on your device');\r\n    }\r\n  };\r\n\r\n  const closeScanner = () => {\r\n    setShowScanner(false);\r\n  };\r\n\r\n  const openLimitSettings = () => {\r\n    setShowLimitSettings(true);\r\n  };\r\n\r\n  const closeLimitSettings = (updatedWallet) => {\r\n    if (updatedWallet) {\r\n      setWallet(updatedWallet);\r\n    }\r\n    setShowLimitSettings(false);\r\n  };\r\n\r\n  const handleScanSuccess = (data) => {\r\n    setRecipientAddress(data);\r\n    setShowScanner(false);\r\n    setShowSendForm(true);\r\n  };\r\n\r\n  const handleTransactionSuccess = async (updatedWallet) => {\r\n    if (updatedWallet) {\r\n      // If we got an updated wallet directly (offline mode)\r\n      setWallet(updatedWallet);\r\n      storeWallet(updatedWallet);\r\n    } else if (navigator.onLine) {\r\n      // If online, fetch the latest wallet\r\n      try {\r\n        const res = await axios.get('/api/wallets');\r\n        \r\n        // Merge with local settings\r\n        const mergedWallet = {\r\n          ...res.data,\r\n          dailyLimit: wallet.dailyLimit,\r\n          monthlyLimit: wallet.monthlyLimit,\r\n          enableLimits: wallet.enableLimits\r\n        };\r\n        \r\n        setWallet(mergedWallet);\r\n        storeWallet(mergedWallet);\r\n      } catch (err) {\r\n        setError('Failed to refresh wallet data');\r\n      }\r\n    }\r\n    \r\n    setShowSendForm(false);\r\n    setRecipientAddress('');\r\n  };\r\n\r\n  // Format transaction description\r\n  const getTransactionDescription = (tx, walletAddress) => {\r\n    if (tx.senderWalletAddress === walletAddress) {\r\n      return `Sent to ${tx.receiverPayId ? `PAY ID: ${tx.receiverPayId}` : 'wallet'}`;\r\n    } else {\r\n      return `Received from ${tx.senderPayId ? `PAY ID: ${tx.senderPayId}` : 'wallet'}`;\r\n    }\r\n  };\r\n\r\n  const toggleQuickActions = () => {\r\n    setShowQuickActions(!showQuickActions);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading wallet data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"alert alert-danger\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-center my-4\">Dashboard</h1>\r\n      \r\n      {/* Quick Actions Floating Menu */}\r\n      <div className={`quick-actions ${showQuickActions ? 'active' : ''}`}>\r\n        <button \r\n          className=\"quick-actions-toggle\"\r\n          onClick={toggleQuickActions}\r\n          aria-label=\"Quick Actions\"\r\n        >\r\n          <i className={`fas ${showQuickActions ? 'fa-times' : 'fa-bolt'}`}></i>\r\n        </button>\r\n        \r\n        {showQuickActions && (\r\n          <div className=\"quick-actions-menu\">\r\n            <button \r\n              className=\"quick-action-item\" \r\n              onClick={() => {\r\n                setShowQuickActions(false);\r\n                navigate('/send');\r\n              }}\r\n              aria-label=\"Send Money\"\r\n            >\r\n              <div className=\"quick-action-icon\">\r\n                <i className=\"fas fa-paper-plane\"></i>\r\n              </div>\r\n              <span>Send</span>\r\n            </button>\r\n            \r\n            <button \r\n              className=\"quick-action-item\" \r\n              onClick={() => {\r\n                setShowQuickActions(false);\r\n                navigate('/receive');\r\n              }}\r\n              aria-label=\"Receive Money\"\r\n            >\r\n              <div className=\"quick-action-icon\">\r\n                <i className=\"fas fa-qrcode\"></i>\r\n              </div>\r\n              <span>Receive</span>\r\n            </button>\r\n            \r\n            <button \r\n              className=\"quick-action-item\" \r\n              onClick={() => {\r\n                setShowQuickActions(false);\r\n                if (!isOffline) {\r\n                  openScanner();\r\n                } else {\r\n                  setError('Scanning is not available in offline mode');\r\n                }\r\n              }}\r\n              disabled={isOffline}\r\n              aria-label=\"Scan QR\"\r\n            >\r\n              <div className=\"quick-action-icon\">\r\n                <i className=\"fas fa-camera\"></i>\r\n              </div>\r\n              <span>Scan</span>\r\n            </button>\r\n            \r\n            <button \r\n              className=\"quick-action-item\" \r\n              onClick={() => {\r\n                setShowQuickActions(false);\r\n                navigate('/history');\r\n              }}\r\n              aria-label=\"Transaction History\"\r\n            >\r\n              <div className=\"quick-action-icon\">\r\n                <i className=\"fas fa-history\"></i>\r\n              </div>\r\n              <span>History</span>\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"alert alert-danger\">\r\n          <i className=\"fas fa-exclamation-circle\"></i> {error}\r\n        </div>\r\n      )}\r\n      \r\n      {isOffline && (\r\n        <div className=\"alert alert-warning\">\r\n          <i className=\"fas fa-wifi-slash\"></i> You are currently offline. Some features may be limited.\r\n        </div>\r\n      )}\r\n      \r\n      {wallet && (\r\n        <div className=\"wallet-card\">\r\n          <div className=\"wallet-header\">\r\n            <h2>Your PAY Account</h2>\r\n            <button \r\n              className=\"btn btn-light btn-sm\" \r\n              onClick={openLimitSettings}\r\n              title=\"Set spending limits\"\r\n            >\r\n              <i className=\"fas fa-sliders-h\"></i>\r\n            </button>\r\n          </div>\r\n          \r\n          {wallet.payId && (\r\n            <div className=\"pay-id-container\">\r\n              <h3 className=\"pay-id-heading\">Your PAY ID: <span className=\"pay-id\">{wallet.payId}</span></h3>\r\n              <p className=\"pay-id-info\">Share this 4-digit ID to easily receive money</p>\r\n            </div>\r\n          )}\r\n          \r\n          <div>\r\n            <p>Account ID:</p>\r\n            <div className=\"wallet-address\">{wallet.walletAddress}</div>\r\n          </div>\r\n          <div className=\"wallet-balance\">\r\n            Balance: {wallet.balance} PAY\r\n          </div>\r\n          \r\n          {wallet.enableLimits && (\r\n            <div className=\"limits-info\">\r\n              {wallet.dailyLimit > 0 && (\r\n                <div className=\"limit-item\">\r\n                  <i className=\"fas fa-calendar-day\"></i> Daily Limit: {wallet.dailyLimit} PAY\r\n                </div>\r\n              )}\r\n              {wallet.monthlyLimit > 0 && (\r\n                <div className=\"limit-item\">\r\n                  <i className=\"fas fa-calendar-alt\"></i> Monthly Limit: {wallet.monthlyLimit} PAY\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"wallet-controls\">\r\n            <button \r\n              className=\"btn btn-primary action-btn\" \r\n              onClick={() => navigate('/send')}\r\n            >\r\n              <i className=\"fas fa-paper-plane\"></i> Send Payment\r\n            </button>\r\n            <button \r\n              className=\"btn btn-secondary action-btn\"\r\n              onClick={() => navigate('/receive')}\r\n            >\r\n              <i className=\"fas fa-qrcode\"></i> Receive Money\r\n            </button>\r\n            <button \r\n              className=\"btn btn-dark action-btn\" \r\n              onClick={() => navigate('/scan')}\r\n              disabled={isOffline}\r\n            >\r\n              <i className=\"fas fa-camera\"></i> Scan QR Code\r\n            </button>\r\n          </div>\r\n\r\n          {/* Stats Grid */}\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stats-card\">\r\n              <div className=\"feature-icon\">\r\n                <i className=\"fas fa-arrow-up\"></i>\r\n              </div>\r\n              <h3>Sent</h3>\r\n              <p>{stats.totalSent.toFixed(2)} PAY</p>\r\n            </div>\r\n            \r\n            <div className=\"stats-card\">\r\n              <div className=\"feature-icon\">\r\n                <i className=\"fas fa-arrow-down\"></i>\r\n              </div>\r\n              <h3>Received</h3>\r\n              <p>{stats.totalReceived.toFixed(2)} PAY</p>\r\n            </div>\r\n            \r\n            <div className=\"stats-card\">\r\n              <div className=\"feature-icon\">\r\n                <i className=\"fas fa-exchange-alt\"></i>\r\n              </div>\r\n              <h3>Transactions</h3>\r\n              <p>{stats.transactionCount}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Transactions */}\r\n          <div className=\"recent-transactions-section\">\r\n            <div className=\"section-header\">\r\n              <h3>Recent Transactions</h3>\r\n              <Link to=\"/history\" className=\"view-all-link\">\r\n                View All <i className=\"fas fa-chevron-right\"></i>\r\n              </Link>\r\n            </div>\r\n            \r\n            {recentTransactions.length > 0 ? (\r\n              <div className=\"transaction-list\">\r\n                {recentTransactions.map(tx => (\r\n                  <div key={tx.id} className=\"transaction-item\">\r\n                    <div className=\"transaction-icon-container\">\r\n                      <div className={`transaction-icon ${tx.senderWalletAddress === wallet.walletAddress ? 'sent' : 'received'}`}>\r\n                        <i className={`fas fa-${tx.senderWalletAddress === wallet.walletAddress ? 'arrow-up' : 'arrow-down'}`}></i>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"transaction-details\">\r\n                      <div className=\"transaction-description\">\r\n                        {getTransactionDescription(tx, wallet.walletAddress)}\r\n                      </div>\r\n                      <div className=\"transaction-date\">\r\n                        {moment(tx.date).format('MMM D, YYYY • h:mm A')}\r\n                      </div>\r\n                    </div>\r\n                    <div className={`transaction-amount ${tx.senderWalletAddress === wallet.walletAddress ? 'sent' : 'received'}`}>\r\n                      {tx.senderWalletAddress === wallet.walletAddress ? '-' : '+'}{tx.amount.toFixed(2)} PAY\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">\r\n                <div className=\"empty-state-icon\">\r\n                  <i className=\"fas fa-exchange-alt\"></i>\r\n                </div>\r\n                <p>No transactions yet</p>\r\n                <button \r\n                  className=\"btn btn-secondary btn-sm\"\r\n                  onClick={() => navigate('/send')}\r\n                >\r\n                  Send your first payment\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {showQR && (\r\n            <div className=\"qr-container\">\r\n              <h3>Your PAY Account QR Code</h3>\r\n              <p>Scan this code to receive money</p>\r\n              {qrCode ? (\r\n                typeof qrCode === 'string' && qrCode.startsWith('data:image/') ? (\r\n                  // If it's a data URL from the server\r\n                  <img \r\n                    src={qrCode} \r\n                    alt=\"PAY QR Code\"\r\n                    style={{ maxWidth: '100%', width: '250px' }}\r\n                  />\r\n                ) : (\r\n                  // Otherwise use the QRCodeSVG component for client-side generation\r\n                  <QRCodeSVG \r\n                    value={typeof qrCode === 'string' ? qrCode : JSON.stringify(qrCode)}\r\n                    size={250}\r\n                    level=\"H\"\r\n                    includeMargin={true}\r\n                    bgColor=\"#ffffff\"\r\n                    fgColor=\"#000000\"\r\n                  />\r\n                )\r\n              ) : (\r\n                <div className=\"alert alert-danger\">\r\n                  <i className=\"fas fa-exclamation-circle\"></i> Failed to generate QR code\r\n                </div>\r\n              )}\r\n              <button className=\"btn btn-light mt-3\" onClick={() => {\r\n                setShowQR(false);\r\n                setQrCode(null);\r\n              }}>\r\n                Close\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {showSendForm && (\r\n            <SendMoneyForm \r\n              onClose={closeSendForm} \r\n              onSuccess={handleTransactionSuccess} \r\n              initialRecipientAddress={recipientAddress} \r\n              wallet={wallet}\r\n              isOffline={isOffline}\r\n            />\r\n          )}\r\n\r\n          {showScanner && (\r\n            <QRScanner \r\n              onClose={closeScanner} \r\n              onScanSuccess={handleScanSuccess} \r\n            />\r\n          )}\r\n          \r\n          {showLimitSettings && (\r\n            <LimitSettingsModal\r\n              onClose={closeLimitSettings}\r\n              wallet={wallet}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}