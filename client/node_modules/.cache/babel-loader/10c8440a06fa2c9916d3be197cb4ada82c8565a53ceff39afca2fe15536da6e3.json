{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import QRScanner from'../components/wallet/QRScanner';import'../styles/FormPages.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScanPage=()=>{var _location$state;const navigate=useNavigate();const location=useLocation();const[error,setError]=useState(null);// Determine where to return after scanning\nconst returnPath=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.returnTo)||'/send';const handleClose=()=>{navigate(returnPath);};const handleScanSuccess=data=>{// Navigate back to the send page with the scanned data\nnavigate(returnPath,{state:{scannedAddress:data}});};const handleScanError=errorMessage=>{setError(errorMessage);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleClose,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Scan QR Code\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" \",error,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-light mt-2\",onClick:()=>setError(null),children:\"Dismiss\"})]}),/*#__PURE__*/_jsx(QRScanner,{onClose:handleClose,onScanSuccess:handleScanSuccess,onError:handleScanError}),/*#__PURE__*/_jsx(\"div\",{className:\"scan-instructions mt-3\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle\"}),\" Point your camera at a wallet QR code to scan it\"]})})]})]});};export default ScanPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","QRScanner","jsx","_jsx","jsxs","_jsxs","ScanPage","_location$state","navigate","location","error","setError","returnPath","state","returnTo","handleClose","handleScanSuccess","data","scannedAddress","handleScanError","errorMessage","className","children","onClick","onClose","onScanSuccess","onError"],"sources":["C:/Users/user/Documents/pay/client/src/pages/ScanPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport QRScanner from '../components/wallet/QRScanner';\r\nimport '../styles/FormPages.css';\r\n\r\nconst ScanPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Determine where to return after scanning\r\n  const returnPath = location.state?.returnTo || '/send';\r\n\r\n  const handleClose = () => {\r\n    navigate(returnPath);\r\n  };\r\n\r\n  const handleScanSuccess = (data) => {\r\n    // Navigate back to the send page with the scanned data\r\n    navigate(returnPath, { \r\n      state: { \r\n        scannedAddress: data \r\n      }\r\n    });\r\n  };\r\n\r\n  const handleScanError = (errorMessage) => {\r\n    setError(errorMessage);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-page-container\">\r\n      <div className=\"page-header\">\r\n        <button className=\"back-button\" onClick={handleClose}>\r\n          <i className=\"fas fa-arrow-left\"></i>\r\n        </button>\r\n        <h1>Scan QR Code</h1>\r\n      </div>\r\n\r\n      <div className=\"form-content\">\r\n        {error && (\r\n          <div className=\"alert alert-danger\">\r\n            <i className=\"fas fa-exclamation-circle\"></i> {error}\r\n            <button \r\n              className=\"btn btn-sm btn-light mt-2\"\r\n              onClick={() => setError(null)}\r\n            >\r\n              Dismiss\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        <QRScanner \r\n          onClose={handleClose}\r\n          onScanSuccess={handleScanSuccess}\r\n          onError={handleScanError}\r\n        />\r\n        \r\n        <div className=\"scan-instructions mt-3\">\r\n          <p>\r\n            <i className=\"fas fa-info-circle\"></i> Point your camera at a wallet QR code to scan it\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScanPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,KAAAC,eAAA,CACrB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAAc,UAAU,CAAG,EAAAL,eAAA,CAAAE,QAAQ,CAACI,KAAK,UAAAN,eAAA,iBAAdA,eAAA,CAAgBO,QAAQ,GAAI,OAAO,CAEtD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBP,QAAQ,CAACI,UAAU,CAAC,CACtB,CAAC,CAED,KAAM,CAAAI,iBAAiB,CAAIC,IAAI,EAAK,CAClC;AACAT,QAAQ,CAACI,UAAU,CAAE,CACnBC,KAAK,CAAE,CACLK,cAAc,CAAED,IAClB,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,eAAe,CAAIC,YAAY,EAAK,CACxCT,QAAQ,CAACS,YAAY,CAAC,CACxB,CAAC,CAED,mBACEf,KAAA,QAAKgB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCjB,KAAA,QAAKgB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnB,IAAA,WAAQkB,SAAS,CAAC,aAAa,CAACE,OAAO,CAAER,WAAY,CAAAO,QAAA,cACnDnB,IAAA,MAAGkB,SAAS,CAAC,mBAAmB,CAAI,CAAC,CAC/B,CAAC,cACTlB,IAAA,OAAAmB,QAAA,CAAI,cAAY,CAAI,CAAC,EAClB,CAAC,cAENjB,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1BZ,KAAK,eACJL,KAAA,QAAKgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCnB,IAAA,MAAGkB,SAAS,CAAC,2BAA2B,CAAI,CAAC,IAAC,CAACX,KAAK,cACpDP,IAAA,WACEkB,SAAS,CAAC,2BAA2B,CACrCE,OAAO,CAAEA,CAAA,GAAMZ,QAAQ,CAAC,IAAI,CAAE,CAAAW,QAAA,CAC/B,SAED,CAAQ,CAAC,EACN,CACN,cAEDnB,IAAA,CAACF,SAAS,EACRuB,OAAO,CAAET,WAAY,CACrBU,aAAa,CAAET,iBAAkB,CACjCU,OAAO,CAAEP,eAAgB,CAC1B,CAAC,cAEFhB,IAAA,QAAKkB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCjB,KAAA,MAAAiB,QAAA,eACEnB,IAAA,MAAGkB,SAAS,CAAC,oBAAoB,CAAI,CAAC,oDACxC,EAAG,CAAC,CACD,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}